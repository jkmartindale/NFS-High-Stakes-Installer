Need For Speed 4 Modern Patch v0.1.0 [2016/05/11]
(C) Evgeny Vrublevsky <me@veg.by>
http://veg.by/ru/projects/nfs4/

------------------------------------------------------------------------------------------------------------------------
  Установка
------------------------------------------------------------------------------------------------------------------------

1. Скопируйте каталоги DATA и SAVEDATA с оригинального диска NFS4 в новый пустой каталог.
2. Извлеките содержимое этого архива в этот же каталог, с заменой файлов.
3. Готово!

------------------------------------------------------------------------------------------------------------------------
  Изменения в v0.1.0 [2016/05/11]
------------------------------------------------------------------------------------------------------------------------

Изменения в nfs4.exe:
- Основан на nfshs.exe версии 4.50.
- Исправлена проблема «PatchRestart» (функция разбора командной строки не инициализировала одну переменную).
- Исправлена ошибка, когда игра сообщала, что на диске осталось меньше 1 мегабайта свободного пространства, хотя это не так.
- Игра читает системные настройки из ini-файла. Никакого реестра!
- Сперва игра ищет ini-файл с именем, аналогичным имени исполняемого файла (например, nfshs.ini для nfshs.exe). Если он не найден, игра использует nfs4.ini.
- Лимит на количество выделяемой памяти для встроенной кучи по умолчанию увеличен с 26 до 64 MiB, что должно избавить вас от ошибки «Out of memory» в неожиданных ситуациях. Также для настройки этого параметра в ini-файле введена настройка OwnHeapLimitMb (значение в мегабайтах, от 32 до 512).
- Увеличен буфер (с 2 до 8 MiB), из-за малой величины которого появлялась ошибка «Render_GetTm() raM out of raN» при просмотре высокополигональных моделей машин.
- Подавление отображениея диалога Windows Error Reporting при фатальных ошибках выключено по умолчанию. Таким образом, если что-то пойдёт не так, вы узнаете об этом. Для включения подавления отображения этого диалога обратитесь к настройке NoErrorReporting в ini-файле.
- Игра больше не изменяет состояние Num Lock, Scroll Lock и Caps Lock.
- В игру было встроено тестирование производительности процессора при старте, что отнимало почти секунду времени при старте, а главное — оно выдавало слишком большие результаты на современных компьютерах, и из-за переполнения знакового числа оно начинало восприниматься как отрицательное. В результате игра запускала ветки кода, ориентированные на процессоры с частотой ниже 133MHz, и из-за этого появлялся эффект чресстрочности на стартовом видео и по умолчанию игра предлагала наихудшие настройки графики. Максимальной же проверяемой частотой было 266MHz, то есть любой процессор, вышедший за последние 15 лет, по идее должен считаться игрой как наилучший. Данный тест был заменён быстрой проверкой поколения (i586/i686) и наличия в процессоре инструкций MMX/SSE/SSE2, исходя из чего и делается вывод, насколько современный процессор используется.
- Табличка скоростей у копов стала компактнее (с такими же размерами строк, как и у обычного списка соперников).
- Изменен способ хранения рендереров (thrash-драйверов). Теперь они хранятся в каталоге drivers, у каждого рендерера свой подкаталог, чьё имя используется в качестве названия рендерера для параметра ThrashDriver. Внутри этого подкаталога должен находиться dll-файл рендерера и файл thrash.ini с информацией о рендерере (File и Type — обязательные поля). Это изменение позволяет сохранить в соседних директориях несколько разных эмуляторов Glide API и при необходимости использовать их.
- Игра больше не пытается постоянно делать своё окно активным, потому что не позволяло переключиться на другое окно, когда игра работала в оконном режиме nGlide.
- Настройка ini-файла NoMovies, которая позволяет отключить стартовую заставку и демо-ролики.
- Настройка ini-файла SingleProcAffinity, которая позволяет привязать процесс игры к одному ядру вашего процессора. Временное решение проблем с зависаниями.
- Все рендереры могут использовать dll врапперы из собственных подкаталогов на Windows XP SP1+.

Изменения в файлах меню:
- Кнопка «NFS4 website» в меню выбора режима заменена на кнопку настроек.
- Кнопки «Download car» были удалены, так как они не работают уже долгое время.

Изменения в рендерере dx6a.dll:
- За основу взят оригинальный рендерер d3da.dll из NFS4 (использует DirectX 6).
- Исправлено падение в случае если система поддерживает слишком много форматов текстур. (Спасибо Dege.)
- Восстановлена поддержка тумана на современных системах.
- Лимит на количество разрешений увеличен с 30 до 100.
- Dithering по умолчанию выключен в 16-битных режимах.

Изменения в рендерере dx7a.dll:
- Основан на dx7z.dll из Motor City Online.
- Dithering по умолчанию выключен.
- Не выводятся разрешения меньше 640×480.

Изменения в рендерере voodoo2a.dll:
- За основу взят оригинальный рендерер voodoo2a.dll из NFS4 (использует glide3x.dll).
- Обучен загружать glide3x.dll из своего подкаталога.
- Разрешения отсортированы по порядку.

Изменения в рендерере softtria.dll:
- За основу взят оригинальный рендерер softtria.dll из NFS4.

------------------------------------------------------------------------------------------------------------------------